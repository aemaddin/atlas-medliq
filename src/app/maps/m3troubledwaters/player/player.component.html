<div class='wrapper'>
    <div class='player'>
        <svg  class='indicator' width="40" height="4" viewBox="0 0 40 4" fill="none" xmlns="http://www.w3.org/2000/svg">
            <line [attr.stroke]='intervieweeColor' y1="2" x2="40" y2="2" stroke-width="4"/>
        </svg>            
        <svg class='icon pause' width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"
             *ngIf='troubledWaters.playing' (click)='pause()'>
            <path [attr.fill]='intervieweeColor' d="M0 16C0 7.16344 7.16344 0 16 0C24.8366 0 32 7.16344 32 16C32 24.8366 24.8366 32 16 32C7.16344 32 0 24.8366 0 16Z"/>
            <mask id="path-2-inside-1" fill="white">
                <rect x="9.06689" y="8.61523" width="5.33333" height="15.3846" rx="1"/>
            </mask>
            <rect x="9.06689" y="8.61523" width="5.33333" height="15.3846" rx="1" fill="white" stroke="white" stroke-width="3" mask="url(#path-2-inside-1)"/>
            <mask id="path-3-inside-2" fill="white">
                <rect x="17.6001" y="8.61523" width="5.33333" height="15.3846" rx="1"/>
            </mask>
            <rect x="17.6001" y="8.61523" width="5.33333" height="15.3846" rx="1" fill="white" stroke="white" stroke-width="3" mask="url(#path-3-inside-2)"/>
        </svg>
        <svg class='icon play' width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"
             *ngIf='!troubledWaters.playing' (click)='play()'>
            <path [attr.fill]='intervieweeColor' d="M0 16C0 7.16344 7.16344 0 16 0V0C24.8366 0 32 7.16344 32 16V16C32 24.8366 24.8366 32 16 32V32C7.16344 32 0 24.8366 0 16V16Z"/>
            <path d="M24.2568 16.0121L11.551 23.3408C11.3843 23.4369 11.1761 23.3167 11.1761 23.1243L11.1761 8.46679C11.1761 8.27439 11.3843 8.1541 11.551 8.25023L24.2568 15.579C24.4236 15.6752 24.4236 15.9159 24.2568 16.0121Z" fill="white" stroke="white" stroke-width="1.5"/>
        </svg>
    </div>
    <div class='interviewees' #interviewees>
        <div class='filler'></div>
        <ng-container *ngFor='let segment of segments; let idx=index'>
            <div class='interviewee'>
                <a class='photo'
                    [class.active]='idx === segmentIndex'
                    [style.width]='segment.size + "px"'
                    [style.height]='segment.size + "px"'
                    [style.border-radius]='segment.size/2 + "px"'
                    [style.border-width]='segment.size/32 + "px"'
                    [style.margin-right]='(64 - (segment.size/2)) + "px"'
                    [style.background-image]='"url(" + segment.interviewee.profile_pic[0].thumbnails.large.url + ")"'
                    [style.border-color]='segment.interviewee.color'
                    [attr.data-segment-id]='segment.id'
                    [attr.data-offset]='offset(idx)'
                    routerLink='/m3' [queryParams]='{segment: segment.id, offset: 0, who: "interviewee-click"}'
                >
                </a>
                <div class='badges'>
                    <div class='info small' [style.color]='segment.interviewee.color'
                    [class.visible]='idx !== segmentIndex'
                >
                        <div class='name'>{{segment.interviewee.name}}</div>
                        <div class='title'>{{segment.interviewee.title}}</div>
                    </div>
                    <div class='info big' [style.color]='segment.interviewee.color'
                         [class.visible]='idx === segmentIndex'
                >
                        <div class='clock' [style.border-color]='segment.interviewee.color'>
                            <span>{{clock}}</span>
                        </div>
                        <div class='caret'>
                            <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0)">
                                    <path d="M8.5 0.25L3.5 5L8.5 9.625" [attr.stroke]="segment.interviewee.color" stroke-width="1.5"/>
                                </g>
                                <defs>
                                    <clipPath id="clip0">
                                        <rect width="10" height="10" fill="white" transform="translate(0 10) rotate(-90)"/>
                                    </clipPath>
                                </defs>
                            </svg>
                        </div>
                    </div>
                    <div class='info big-extra' [style.color]='segment.interviewee.color'
                         [class.visible]='idx === segmentIndex'
                >
                        <div class='name'>{{segment.interviewee.name}}</div>
                        <div class='title'>{{segment.interviewee.title}}</div>
                    </div>
                </div>
            </div>
        </ng-container>
        <div class='filler'></div>
    </div>    
</div>
